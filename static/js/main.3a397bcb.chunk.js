(this["webpackJsonpinventory-system"]=this["webpackJsonpinventory-system"]||[]).push([[0],{18:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),u=n.n(c),l=n(7),o=n(6),i=n(2),m=n(4),s=n.n(m),d=function(e){return!0===/(^[1-9]([0-9]*)?$)|(^[0]{1}$)/.test(e)},f=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],u=n[1],l=Object(a.useState)(""),o=Object(i.a)(l,2),m=o[0],s=o[1];return r.a.createElement(a.Fragment,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),!1===function(e){return!0===/[A-Za-z]/.test(e)}(c)?window.alert("Please enter Product Name"):!1===d(m)?window.alert("Product Quantity is not valid"):(e.addProduct(c,m),u(""),s(""))}},"  ",r.a.createElement("div",{className:"container py-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Name:"),r.a.createElement("input",{className:"form-control ",value:c,onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Quantity:"),r.a.createElement("input",{className:"form-control",value:m,onChange:function(e){return s(e.target.value)}}),r.a.createElement("small",{className:"form-text text-muted"},"Must be number"),r.a.createElement("button",{className:"btn btn-primary my-2 float-right"},"Add Product")),r.a.createElement("div",{className:"clearfix"}))))},p=(n(40),function(e){var t=Object(a.useState)(e.product.quantity),n=Object(i.a)(t,2),c=n[0],u=n[1];return r.a.createElement("div",{className:"popup d-flex justify-content-center align-items-center",onClick:e.handleCancel},r.a.createElement("div",{className:"inner-popup d-flex justify-content-center align-items-center",onClick:function(e){return e.stopPropagation()}},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleUpdate(c)}}," ",r.a.createElement("div",{className:"form-group mx-sm-3 "},r.a.createElement("label",null,e.product.name),r.a.createElement("input",{className:"form-control",value:c,placeholder:"New Quantity",onChange:function(e){return u(e.target.value)}})),r.a.createElement("button",{className:"btn btn-primary mx-2 float-right ",type:"button",onClick:e.handleCancel},"Cancel"),r.a.createElement("button",{className:"btn btn-primary float-right "},"Update"))," "))}),b=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],u=n[1];return r.a.createElement(a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,e.product.name),r.a.createElement("td",null,e.product.quantity),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return u(!0)},className:" btn btn-outline-warning mx-2"},"Modify"),r.a.createElement("button",{onClick:function(){return e.delete(e.product.id)},className:" btn btn-outline-warning mx-2"},"Delete"))),c&&r.a.createElement(p,{handleUpdate:function(t){!1===d(t)?window.alert("Product Quantity is not valid"):(e.updateQuantity(t,e.product,e.id),u(!1))},product:e.product,handleCancel:function(){return u(!1)}}))},E=function(e){var t=[];return e.products.length>0&&(t=function(){if(e.products.length>0)return e.products.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.search.toLowerCase())}))}().map((function(t,n){return r.a.createElement(b,{product:t,id:t.id,key:n,delete:e.deleteProduct,updateQuantity:e.updateQuantity,setProducts:e.setProducts})}))),t},h=function(e){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"text-center mb-5  "},r.a.createElement("h1",null,"Our Products"),r.a.createElement("input",{placeholder:"search",onChange:function(t){return e.setSearch(t.target.value)},className:"form-control w-50 m-auto  "})))},y=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1];Object(a.useEffect)((function(){s.a.get("https://inventory-system-481b5-default-rtdb.firebaseio.com/products.json").then((function(e){var t=[];for(var n in e.data)t.push(Object(l.a)(Object(l.a)({},e.data[n]),{},{id:n}));c(t)}))}),[]);return r.a.createElement(a.Fragment,null,r.a.createElement(f,{addProduct:function(e,t){s.a.post("https://inventory-system-481b5-default-rtdb.firebaseio.com/products.json",{name:e,quantity:t}).then((function(a){return c([].concat(Object(o.a)(n),[{name:e,quantity:t,id:a.data.name}]))}))}}),r.a.createElement(h,{setSearch:p}),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null)),r.a.createElement("tbody",null,r.a.createElement(E,{products:n,search:d,updateQuantity:function(e,t,a){s.a.put("https://inventory-system-481b5-default-rtdb.firebaseio.com/products/".concat(a,".json"),{name:t.name,quantity:e}).then((function(e){var t=n.filter((function(e){return e.id!==a}));c([].concat(Object(o.a)(t),[e.data]))}))},deleteProduct:function(e){window.confirm("Delete the item?")&&s.a.delete("https://inventory-system-481b5-default-rtdb.firebaseio.com/products/".concat(e,".json")).then((function(t){return c((function(t){return t.filter((function(t){return t.id!==e}))}))}))},setProducts:c}))))},v=document.getElementById("root");u.a.render(r.a.createElement(y,null),v)}},[[18,1,2]]]);
//# sourceMappingURL=main.3a397bcb.chunk.js.map